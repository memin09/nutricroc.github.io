<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title id="pageTitle">Nutricroc - Nuestra Historia</title>
  <link rel="icon" href="img/cocodrilo1.png">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500&family=Great+Vibes&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.cdnfonts.com/css/argent-cf" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    /* RESET Y CONFIGURACIONES GLOBALES */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      scrollbar-width: thin;
      scrollbar-color: #295732 #f1f1f1;
    }

    ::-webkit-scrollbar {
      width: 10px;
    }

    ::-webkit-scrollbar-track {
      background: #f1f1f1;
    }

    ::webkit-scrollbar-thumb {
      background: #295732;
      border-radius: 5px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #1e3d24;
    }

    html, body {
      overflow-x: hidden;
      width: 100%;
      max-width: 100%;
      position: relative;
    }

    body {
      font-family: 'Playfair Display', serif;
      background: #F5F5DC;
      margin: 0;
      padding: 0;
      color: #333;
      overflow-x: hidden;
      width: 100%;
      /* Añadir padding-top para compensar el header fijo */
      padding-top: 90px; /* Ajusta este valor según la altura de tu header */
    }

    /* ===== HEADER Y NAVEGACIÓN ===== */
    .header {
      background: #A8C9A8;
      padding: 20px 0;
      border-bottom: 1px solid #A8C9A8;
      position: fixed; /* Cambiado de sticky a fixed */
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      width: 100%;
      overflow: visible;
    }

    .header-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 50px;
      max-width: 100%;
    }

    .header-nav {
      display: flex;
      gap: 40px;
      position: relative;
    }

    .nav-left {
      justify-content: flex-end;
      flex: 1;
    }

    .nav-right {
      justify-content: flex-start;
      flex: 1;
    }

    .nav-item {
      position: relative;
    }

    .nav-item > a {
      text-decoration: none;
      color: #333;
      font-size: 19px;
      font-weight: 500;
      transition: color 0.3s ease;
      padding: 12px 0;
      display: block;
      position: relative;
    }

    .nav-item > a:hover {
      color: #295732;
    }

    .nav-item > a::after {
      content: '';
      position: absolute;
      bottom: 8px;
      left: 50%;
      transform: translateX(-50%);
      width: 6px;
      height: 6px;
      background: #295732;
      border-radius: 50%;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .nav-item > a:hover::after {
      opacity: 1;
    }

    .dropdown-menu {
      position: absolute;
      top: 100%;
      left: 0;
      background: #fff;
      border: 1px solid #eee;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      min-width: 220px;
      opacity: 0;
      visibility: hidden;
      transform: translateY(10px);
      transition: all 0.3s ease;
      z-index: 1000;
      padding: 12px 0;
    }

    .nav-item:hover .dropdown-menu {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .dropdown-menu a {
      display: block;
      padding: 12px 24px;
      text-decoration: none;
      color: #333;
      font-size: 15px;
      transition: all 0.3s ease;
      position: relative;
    }

    .dropdown-menu a:hover {
      color: #295732;
      background: #f9f9f9;
    }

    .dropdown-menu a::before {
      content: '';
      position: absolute;
      left: 10px;
      top: 50%;
      transform: translateY(-50%);
      width: 5px;
      height: 5px;
      background:#76DCD8;
      border-radius: 50%;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .dropdown-menu a:hover::before {
      opacity: 1;
    }

    .header-center {
      text-align: center;
      padding: 0 50px;
    }

    .header-logo {
      font-family: 'Classy Marisa';
      font-size: 48px;
      color: #295732;
      margin: 0;
    }

    /* ===== ICONOS DE USUARIO Y CARRITO ===== */
    .header-icons {
      display: flex;
      gap: 15px;
      align-items: center;
      position: relative;
    }

    .icon-btn {
      background: none;
      border: none;
      color: #333;
      font-size: 28px;
      cursor: pointer;
      transition: color 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 45px;
      height: 45px;
      border-radius: 50%;
      position: relative;
    }

    .icon-btn:hover {
      color: #295732;
      background: #f9f9f9;
    }

    .cart-count {
      position: absolute;
      top: 2px;
      right: 2px;
      background: #295732;
      color: white;
      border-radius: 50%;
      width: 18px;
      height: 18px;
      font-size: 11px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      box-shadow: 0 1px 3px rgba(0,0,0,0.2);
      line-height: 1;
    }

    .user-dropdown {
      position: absolute;
      top: 100%;
      right: 0;
      background: #fff;
      border: 1px solid #eee;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      min-width: 180px;
      opacity: 0;
      visibility: hidden;
      transform: translateY(10px);
      transition: all 0.3s ease;
      z-index: 1000;
      padding: 12px 0;
    }

    .user-dropdown.show {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .user-dropdown a {
      display: block;
      padding: 12px 24px;
      text-decoration: none;
      color: #333;
      font-size: 15px;
      transition: all 0.3s ease;
      position: relative;
    }

    .user-dropdown a:hover {
      color: #295732;
      background: #f9f9f9;
    }

    .user-dropdown a::before {
      content: '';
      position: absolute;
      left: 10px;
      top: 50%;
      transform: translateY(-50%);
      width: 5px;
      height: 5px;
      background:#76DCD8;
      border-radius: 50%;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .user-dropdown a:hover::before {
      opacity: 1;
    }

    /* ===== MENÚ MÓVIL ===== */
    .mobile-menu-btn {
      display: none;
      background: none;
      border: none;
      font-size: 28px;
      cursor: pointer;
      color: #333;
      padding: 5px;
      z-index: 2001;
    }

    .mobile-nav {
      display: flex;
      position: fixed;
      top: 0;
      left: 0;
      width: 280px;
      height: 100%;
      background: white;
      z-index: 2000;
      flex-direction: column;
      padding: 20px 15px 30px;
      transform: translateX(-100%);
      transition: transform 0.3s ease;
      overflow-y: auto;
      box-shadow: 2px 0 10px rgba(0,0,0,0.1);
      overflow-x: hidden;
    }

    .mobile-nav.open {
      transform: translateX(0);
    }

    .mobile-nav-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 1px solid #eee;
    }

    .mobile-nav-title {
      font-family: 'Classy Marisa';
      font-size: 35px;
      color: #295732;
      margin: 0;
    }

    .close-mobile-nav {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #333;
    }

    .mobile-nav-item {
      border-bottom: 1px solid #f5f5f5;
      width: 100%;
    }

    /* MODIFICACIÓN: Texto más a la izquierda en el menú móvil */
    .mobile-nav-item > a {
      display: block;
      padding: 18px 5px; /* Cambiado de 18px 0 a 18px 5px para mover a la izquierda */
      text-decoration: none;
      color: #333;
      font-size: 18px;
      font-weight: 500;
      transition: color 0.3s ease;
      width: 100%;
    }

    .mobile-nav-item > a:hover {
      color: #295732;
    }

    .mobile-dropdown-menu {
      display: none;
      padding: 10px 0 10px 10px; /* Cambiado de 10px 0 10px 20px a 10px 0 10px 10px */
      background: #f9f9f9;
      border-radius: 8px;
      margin: 10px 0;
      width: 100%;
    }

    .mobile-dropdown-menu.show {
      display: block;
    }

    /* MODIFICACIÓN: Texto más a la izquierda en los submenús */
    .mobile-dropdown-menu a {
      display: block;
      padding: 12px 10px; /* Cambiado de 12px 15px a 12px 10px */
      text-decoration: none;
      color: #555;
      font-size: 16px;
      transition: color 0.3s ease;
      border-left: 3px solid transparent;
      width: 100%;
    }

    .mobile-dropdown-menu a:hover {
      color: #295732;
      border-left-color: #295732;
    }

    .mobile-dropdown-toggle {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
      background: none;
      border: none;
      padding: 18px 5px; /* Cambiado de 18px 0 a 18px 5px para mover a la izquierda */
      cursor: pointer;
      font-size: 18px;
      color: #333;
      font-family: 'Playfair Display', serif;
      font-weight: 500;
    }

    .mobile-dropdown-toggle .material-icons {
      transition: transform 0.3s ease;
    }

    .mobile-dropdown-toggle.active .material-icons {
      transform: rotate(180deg);
    }

    .mobile-nav-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 1999;
    }

    .mobile-nav-overlay.active {
      display: block;
    }

    /* ===== NOTIFICACIONES ===== */
    .notification {
      position: fixed;
      top: 0;
      left: 50%;
      transform: translateX(-50%) translateY(-100%);
      background-color: #295732;
      color: white;
      padding: 15px 30px;
      text-align: center;
      z-index: 2000;
      transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      border-radius: 0 0 10px 10px;
      max-width: 400px;
      width: 90%;
    }

    .notification.show {
      transform: translateX(-50%) translateY(0);
    }

    .notification-content {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .notification-icon {
      font-size: 20px;
    }

    .notification-text {
      font-size: 16px;
      font-weight: 500;
    }

    /* Notificación de stock insuficiente */
    .stock-notification {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      background-color: #dc3545;
      color: white;
      padding: 25px 40px;
      text-align: center;
      z-index: 3000;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      transition: transform 0.3s ease, opacity 0.3s ease;
      opacity: 0;
      max-width: 500px;
      width: 90%;
      font-family: 'Playfair Display', serif;
    }

    .stock-notification.show {
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
    }

    .stock-notification i {
      font-size: 40px;
      margin-bottom: 15px;
      display: block;
    }

    .stock-notification h3 {
      margin: 0 0 10px 0;
      font-size: 24px;
    }

    .stock-notification p {
      margin: 0;
      font-size: 16px;
      line-height: 1.5;
    }

    /* ===== MODAL DE AUTENTICACIÓN ===== */
    .auth-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 1000;
      display: none;
    }

    .auth-sidebar {
      position: fixed;
      top: 0;
      right: 0;
      width: 30%;
      height: 100%;
      background-color: white;
      box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
      z-index: 1001;
      display: flex;
      flex-direction: column;
      transform: translateX(100%);
      transition: transform 0.3s ease;
      border-top-left-radius: 20px;
      border-bottom-left-radius: 20px;
      overflow: hidden;
    }

    .auth-sidebar.open {
      transform: translateX(0);
    }

    .auth-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
      border-bottom: 1px solid #eee;
      border-top-left-radius: 20px;
    }

    .auth-title {
      font-family: 'Playfair Display', serif;
      font-size: 28px;
      color: #295732;
      margin: 0;
    }

    .close-auth {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #333;
    }

    .auth-content {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
    }

    .auth-image {
      width: 100%;
      height: 250px;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      background: transparent;
    }

    .auth-image img {
      width: auto;
      height: 100%;
      object-fit: contain;
    }

    .auth-form {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 5px;
    }

    .form-group label {
      font-size: 14px;
      color: #555;
      font-weight: 500;
    }

    .form-group input {
      padding: 12px 15px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 16px;
      font-family: 'Playfair Display', serif;
      outline: none;
      transition: border-color 0.3s ease;
    }

    .form-group input:focus {
      border-color: #295732;
    }

    .auth-btn {
      padding: 12px 25px;
      background-color:#C9B656;
      color: white;
      border: none;
      border-radius: 25px;
      font-size: 16px;
      font-family: 'Playfair Display', serif;
      cursor: pointer;
      transition: background-color 0.3s ease;
      margin-top: 10px;
    }

    .auth-btn:hover {
      background-color:#C9B656;
    }

    .auth-switch {
      text-align: center;
      margin-top: 20px;
      font-size: 14px;
    }

    .auth-switch a {
      color: #295732;
      text-decoration: none;
      font-weight: 500;
    }

    .auth-switch a:hover {
      text-decoration: underline;
    }

    /* ===== CARRITO DE COMPRAS ===== */
    .cart-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 1000;
      display: none;
    }

    .cart-sidebar {
      position: fixed;
      top: 0;
      right: 0;
      width: 30%;
      height: 100%;
      background-color: white;
      box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
      z-index: 1001;
      display: flex;
      flex-direction: column;
      transform: translateX(100%);
      transition: transform 0.3s ease;
      border-top-left-radius: 30px;
      border-bottom-left-radius: 30px;
      overflow: hidden;
    }

    .cart-sidebar.open {
      transform: translateX(0);
    }

    .cart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
      border-bottom: 1px solid #eee;
      border-top-left-radius: 30px;
      position: sticky;
      top: 0;
      background: white;
      z-index: 10;
    }

    .cart-title {
      font-family:'Playfair Display', serif;
      font-size: 20px;
      color: #295732;
      margin: 0;
    }

    .cart-count-title {
      font-size: 20px;
      color: #295732;
      margin-left: 8px;
      font-weight: bold;
    }

    .close-cart {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #333;
    }

    .cart-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      border-bottom-left-radius: 30px;
    }

    .cart-items-container {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      background: #fff;
      position: relative;
      border-bottom-left-radius: 30px;
    }

    .cart-items-container::-webkit-scrollbar {
      width: 8px;
    }

    .cart-items-container::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }

    .cart-items-container::-webkit-scrollbar-thumb {
      background: #295732;
      border-radius: 10px;
    }

    .cart-items-container::-webkit-scrollbar-thumb:hover {
      background: #1e3d24;
    }

    .cart-empty {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100%;
      text-align: center;
      border-bottom-left-radius: 30px;
    }

    .cart-empty-image {
      width: 400px;
      height: 300px;
      background: 
        url('img/boldadecomprasco.png')
        center/cover no-repeat;
      margin-bottom: 20px;
      border-radius: 10px;
      position: relative;
    }

    .cart-empty-image::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(255, 255, 255, 0.7);
      border-radius: 10px;
    }

    .cart-empty-text {
      font-size: 18px;
      color: #555;
      margin-bottom: 20px;
      font-family: 'Cormorant Garamond', serif;
      font-weight: 500;
      letter-spacing: 0.5px;
    }

    
      .discover-btn {
  background: #295732;
      color: white;
      border: none;
      padding: 12px 30px;
      border-radius: 30px;
      font-family: 'Argent CF', sans-serif;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      margin: 0;
      text-align: center;
    }

    .discover-btn:hover {
      background: #1e3d24;
      transform: translateY(-3px);
    }

    .cart-item {
      display: flex;
      margin-bottom: 20px;
      padding-bottom: 20px;
      border-bottom: 1px solid #eee;
      position: relative;
    }

    .cart-item-image {
      width: 80px;
      height: 80px;
      border-radius: 10px;
      overflow: hidden;
      margin-right: 15px;
      flex-shrink: 0;
    }

    .cart-item-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .cart-item-details {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .cart-item-info {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 10px;
    }

    .cart-item-price {
      font-weight: bold;
      color: #333;
      font-size: 18px;
    }

    .cart-item-actions {
      display: flex;
      gap: 20px; /* Aumentado de 10px a 15px para separar más los iconos */
    }

    .cart-item-action {
      background: none;
      border: none;
      cursor: pointer;
      color: #295732;
      font-size: 18px;
      transition: color 0.3s ease;
    }

    .cart-item-action:hover {
      color: #1e3d24;
    }

    .cart-item-name {
      font-family: 'Cormorant Garamond', serif;
      font-size: 20px;
      color: #000;
      margin-top: 5px;
    }

    .cart-item-quantity {
      display: flex;
      align-items: center;
      margin-top: 10px;
      font-size: 14px;
      color: #666;
    }

    .quantity-display {
      font-weight: bold;
      color: #295732;
    }

    .delete-spinner {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(255, 255, 255, 0.8);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 20;
      border-bottom-left-radius: 30px;
    }

    .spinner {
      width: 50px;
      height: 50px;
      border: 5px solid rgba(41, 87, 50, 0.3);
      border-radius: 50%;
      border-top-color: #295732;
      animation: spin 1s linear infinite;
      margin-bottom: 15px;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .delete-confirmation {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(255, 255, 255, 0.9);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 20;
      border-bottom-left-radius: 30px;
    }

    .confirmation-image {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background-color: #295732;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 15px;
    }

    .confirmation-image i {
      color: white;
      font-size: 40px;
    }
    .confirmation-text {
      font-size: 18px;
      color: #333;
      font-weight: 500;
    }

    /* Rediseño del resumen del carrito */
    .cart-summary {
      padding: 20px;
      border-top: 1px solid #eee;
      background: white;
      position: sticky;
      bottom: 0;
      display: none;
      border-bottom-left-radius: 30px;
    }

    .cart-summary.visible {
      display: block;
    }

    .cart-summary-title {
      font-size: 18px;
      font-weight: bold;
      color: #295732;
      margin-bottom: 15px;
      text-align: center;
    }

    .cart-summary-details {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 20px;
    }

    .summary-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 16px;
    }

    .summary-label {
      color: #666;
    }

    .summary-value {
      font-weight: 500;
      color: #1e3d24;
    }

    .cart-total {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      font-size: 20px;
      font-weight: bold;
    }

    .cart-total-amount {
      color: #1e3d24;
    }

    .checkout-btn {
      width: 100%;
      background: #C9B656;
      color: white;
      border: none;
      padding: 15px;
      border-radius: 30px;
      font-family: 'Playfair Display', serif;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .checkout-btn:hover {
      background: #C9B656;
      transform: translateY(-3px);
    }

    /* Pantalla de edición */
    .edit-screen {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: white;
      z-index: 20;
      display: none;
      flex-direction: column;
      padding: 20px;
      overflow-y: auto;
      transform: translateX(100%);
      transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    .edit-screen.active {
      display: flex;
      transform: translateX(0);
    }

    .edit-screen.slide-out {
      transform: translateX(100%);
    }

    .edit-header {
      display: flex;
      justify-content: flex-start;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid #eee;
    }

    .edit-back {
      background: none;
      border: none;
      font-size: 20px;
      cursor: pointer;
      color: #333;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      transition: background-color 0.3s ease;
    }

    .edit-back:hover {
      background-color: #f5f5f5;
    }

    .edit-product-images {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
      justify-content: center;
    }

    .edit-product-image {
      width: 150px;
      height: 150px;
      border-radius: 10px;
      overflow: hidden;
    }

    .edit-product-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .edit-product-info {
      text-align: center;
      margin-bottom: 30px;
    }

    .edit-product-name {
      font-family: 'Playfair Display', serif;
      font-size: 25px;
      margin-bottom: 10px;
    }

    .edit-product-price {
      font-size: 22px;
      font-weight: bold;
      color: #1e3d24;
    }

    .edit-quantity-section {
      margin-bottom: 30px;
      text-align: center;
    }

    .edit-quantity-label {
      display: block;
      margin-bottom: 10px;
      font-size: 18px;
    }

    .edit-quantity-controls {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 15px;
    }

    .edit-quantity-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 1px solid #ddd;
      background: white;
      font-size: 20px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .edit-quantity-input {
      width: 60px;
      height: 40px;
      text-align: center;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 18px;
    }

    .edit-actions {
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }

    .save-btn {
      background: #C9B656;
      color: white;
      border: none;
      padding: 12px 30px;
      border-radius: 30px;
      font-family: 'Playfair Display', serif;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      min-height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 140px;
    }

    .save-btn:hover {
      background: #C9B656;
    }

    .save-btn:disabled {
      background: #ccc;
      cursor: not-allowed;
    }

    /* ===== SECCIÓN "OUR STORY" ===== */
    .story-section {
      background-color: #9ACD32 ; /* Verde claro que combina con el header */
      padding: 100px 20px;
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: calc(100vh - 90px); /* Altura completa menos el header */
      position: relative;
      overflow: hidden;
    }

    /* Efectos de curvas para las divisiones de secciones */
    .story-section::before {
      content: '';
      position: absolute;
      top: -50px;
      left: 0;
      width: 100%;
      height: 100px;
      background: #F5F5DC;
      border-radius: 0 0 50% 50%;
      z-index: 1;
    }

    .story-section::after {
      content: '';
      position: absolute;
      bottom: -50px;
      left: 0;
      width: 100%;
      height: 100px;
      background: #9ACD32;
      border-radius: 50% 50% 0 0;
      z-index: 1;
    }

    .story-container {
      max-width: 1200px;
      width: 100%;
      position: relative;
      overflow: hidden;
      z-index: 2;
    }

    .story-content {
      position: relative;
      z-index: 2;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 60px;
    }

    .story-title {
      font-family: 'Playfair Display', serif;
      font-size: 48px;
      color: #295732;
      text-align: center;
      margin-bottom: 20px;
      position: relative;
      padding-bottom: 20px;
    }

    .story-title::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 3px;
      background-color: #295732;
    }

    .story-layout {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 60px;
      width: 100%;
    }

    /* Imágenes estilo última sección */
    .story-image {
      flex: 1;
      max-width: 700px;
      border-radius: 10px;
      overflow: hidden;
      transition: transform 0.3s ease;
    
    }

    .story-image:hover {
      transform: translateY(-10px) scale(1.02);
      
    }

    .story-image img {
      width: 100%;
      height: 620px;
      object-fit: cover;
      display: block;
      transition: transform 0.5s ease;
    }

    .story-image:hover img {
      transform: scale(1.05);
    }

    .story-text {
      flex: 1;
      max-width: 500px;
      text-align: center;
      padding: 0 20px;
    }

    .story-text h3 {
      font-family: 'Playfair Display', serif;
      font-size: 32px;
      color: #295732;
      margin-bottom: 25px;
      font-weight: 500;
    }

    .story-text p {
      font-size: 18px;
      line-height: 1.7;
      color: #333;
      margin-bottom: 25px;
      text-align: justify;
    }

    .story-buttons {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin-top: 50px;
      flex-wrap: wrap;
    }

    .story-btn {
      background-color: #295732;
      color: white;
      border: none;
      padding: 15px 40px;
      border-radius: 30px;
      font-family: 'Playfair Display', serif;
      font-size: 18px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
      text-align: center;
      min-width: 180px;
      position: relative;
      overflow: hidden;
    }

    .story-btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(255,255,255,0.2);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width 0.5s, height 0.5s;
    }

    .story-btn:hover::before {
      width: 300px;
      height: 300px;
    }

    .story-btn:hover {
      background-color: #1e3d24;
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
    }

    .story-btn.secondary {
      background-color: transparent;
      color: #295732;
      border: 2px solid #295732;
    }

    .story-btn.secondary:hover {
      background-color: #295732;
      color: white;
    }

    /* ===== NUEVA SECCIÓN "OUR STANDARDS" ===== */
    .standards-section {
      background-color: #7FAF2F; /* Verde muy claro */
      padding: 120px 20px;
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      position: relative;
      overflow: hidden;
    }

    /* Curva superior */
    .standards-section::before {
      content: '';
      position: absolute;
      top: -50px;
      left: 0;
      width: 100%;
      height: 100px;
      background: #9ACD32;
      border-radius: 0 0 50% 50%;
      z-index: 1;
    }

    /* Curva inferior */
    .standards-section::after {
      content: '';
      position: absolute;
      bottom: -50px;
      left: 0;
      width: 100%;
      height: 100px;
      background: #7FAF2F;
      border-radius: 50% 50% 0 0;
      z-index: 1;
    }

    .standards-container {
      max-width: 1200px;
      width: 100%;
      position: relative;
      z-index: 2;
      display: flex;
      align-items: center;
      gap: 60px;
    }

    .standards-content {
      flex: 1;
      position: relative;
      z-index: 2;
      display: flex;
      flex-direction: column;
      gap: 40px;
    }

    .standards-title {
      font-family: 'Playfair Display', serif;
      font-size: 48px;
      color: #295732;
      text-align: left;
      margin-bottom: 10px;
      position: relative;
      padding-bottom: 20px;
    }

    .standards-title::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100px;
      height: 3px;
      background-color: #295732;
    }

    .standards-text {
      display: flex;
      flex-direction: column;
      gap: 25px;
    }

    .standard-item {
      display: flex;
      align-items: flex-start;
      gap: 15px;
    }

    .standard-icon {
      color: #295732;
      font-size: 24px;
      margin-top: 5px;
      flex-shrink: 0;
    }

    .standard-text {
      font-size: 18px;
      line-height: 1.6;
      color: #333;
    }

    .standards-image-container {
      flex: 1;
      position: relative;
      height: 600px;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    }

    .standards-background-image {
      position: absolute;
      top: 0;
      right: 0;
      width: 100%;
      height: 100%;
      background: 
        linear-gradient(90deg,rgba(218, 165, 32, 0.8) 0%, rgba(218, 165, 32, 0.4) 30%, rgba(232, 245, 232, 0) 70%),
        url('img/standards-bg.jpg') center/cover no-repeat;
      filter: brightness(0.9) contrast(0.9);
      z-index: 1;
    }

    .standards-overlay-image {
      position: absolute;
      top: 50%;
      right: 20px;
      transform: translateY(-50%);
      width: 78%;
      height: 87%;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: -10px 10px 30px rgba(0,0,0,0.3);
      z-index: 2;
      border: 8px solid white;
    }

    .standards-overlay-image img {
      width: 100%;
      height: 120%;
      transform: translateY(8%);
      object-fit: cover;
    }

    /* ===== NUEVA SECCIÓN "OUR MISSION" MODIFICADA ===== */
    .mission-section {
      background-color: #9ACD32; /* Verde diferente pero que combina */
      padding: 120px 20px;
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      overflow: hidden;
    }

    /* Curva superior */
    .mission-section::before {
      content: '';
      position: absolute;
      top: -50px;
      left: 0;
      width: 100%;
      height: 100px;
      background: #7FAF2F;
      border-radius: 0 0 50% 50%;
      z-index: 1;
    }

    /* Curva inferior */
    .mission-section::after {
      content: '';
      position: absolute;
      bottom: -50px;
      left: 0;
      width: 100%;
      height: 100px;
      background: #9ACD32;
      border-radius: 50% 50% 0 0;
      z-index: 1;
    }

    .mission-container {
      max-width: 1200px;
      width: 100%;
      position: relative;
      overflow: hidden;
      z-index: 2;
    }

    .mission-content {
      position: relative;
      z-index: 2;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 80px;
    }

    .mission-title {
      font-family: 'Playfair Display', serif;
      font-size: 48px;
      color: #1e3d24; /* Verde más oscuro para contraste */
      text-align: center;
      margin-bottom: 20px;
      position: relative;
      padding-bottom: 20px;
    }

    .mission-title::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 3px;
      background-color: #1e3d24;
    }

    /* ESTILOS PARA LAS IMÁGENES Y TEXTO ESCALONADOS */
    .mission-staggered {
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 100px;
    }

    .mission-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 60px;
      width: 100%;
    }

    .mission-item.reverse {
      flex-direction: row-reverse;
    }

    .mission-image {
      flex: 0 0 400px;
      max-width: 400px;
      height: 500px;
      border-radius: 15px;
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .mission-image:hover {
      transform: translateY(-10px);
    }

    .mission-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }

    .mission-image:hover img {
      transform: scale(1.05);
    }

    .mission-text-content {
      flex: 1;
      padding: 20px;
    }

    .mission-item-title {
      font-family: 'Playfair Display', serif;
      font-size: 32px;
      color: #1e3d24;
      margin-bottom: 25px;
      font-weight: 600;
      position: relative;
      padding-bottom: 15px;
    }

    .mission-item-title::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 60px;
      height: 3px;
      background-color: #295732;
    }

    .mission-item-text {
      font-size: 18px;
      line-height: 1.7;
      color: #2d4a32;
      text-align: justify;
    }

    .mission-item:nth-child(even) .mission-item-title::after {
      left: auto;
      right: 0;
    }

    /* ===== SCROLL TO TOP ===== */
    .scroll-to-top {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 50px;
      height: 50px;
      background-color: #295732;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .scroll-to-top:hover {
      background-color: #1e3d24;
      transform: translateY(-3px) scale(1.1);
    }

    .scroll-to-top i {
      color: white;
      font-size: 20px;
    }

    /* ===== MEDIA QUERIES MEJORADAS ===== */
    @media (max-width: 1024px) {
      .standard-icon {
      color: #295732;
      font-size: 24px;
      margin-top: 5px;
      flex-shrink: 0;
    }
      .story-layout {
        gap: 40px;
      }
      
      .story-image {
        max-width: 400px;
      }
      
      .story-image img {
        height: 450px;
      }
      
      .mission-item {
        gap: 40px;
      }
      
      .mission-image {
        flex: 0 0 350px;
        max-width: 350px;
        height: 280px;
      }
      
      .standards-container {
        gap: 40px;
      }
      
      .standards-image-container {
        height: 500px;
      }
    }

    @media (max-width: 768px) {
      .standard-icon {
      color: #295732;
      font-size: 24px;
      margin-top: 5px;
      flex-shrink: 0;
    }
      .cart-item-actions {
      display: flex;
      gap: 40px; /* Aumentado de 10px a 15px para separar más los iconos */
    }
      .header-top {
        padding: 0 15px;
        flex-wrap: wrap;
        position: relative;
      }
      
      .header-nav {
        display: none;
      }
      
      .header-center {
        padding: 0;
        order: 0;
        width: auto;
        margin-bottom: 0;
        flex-grow: 1;
        text-align: center;
      }
      
      .header-logo {
        font-size: 36px;
        margin: 0;
      }
      
      .header-icons {
        display: flex;
        gap: 10px;
        order: 1;
        margin-left: auto;
      }
      
      .icon-btn {
        width: 40px;
        height: 40px;
        font-size: 24px;
      }
      
      .mobile-menu-btn {
        display: flex;
        order: -1;
        margin-right: 10px;
      }
      
      .story-section,
      .mission-section,
      .standards-section {
        padding: 80px 15px;
      }
      
      .story-title,
      .mission-title,
      .standards-title {
        font-size: 36px;
      }
      
      .story-layout {
        flex-direction: column;
        gap: 40px;
      }
      
      .story-image {
        max-width: 100%;
      }
      
      .story-image img {
        height: 400px;
      }
      
      .story-text {
        max-width: 100%;
        padding: 0;
      }
      
      .story-text h3 {
        font-size: 28px;
      }
      
      .story-text p {
        font-size: 16px;
      }
      
      .story-buttons,
      .mission-tags {
        flex-direction: column;
        align-items: center;
        gap: 20px;
      }
      
      .story-btn,
      .mission-tag {
        width: 100%;
        max-width: 300px;
      }
      
      /* AJUSTES PARA MISION EN MÓVILES */
      .mission-item {
        flex-direction: column !important;
        gap: 30px;
      }
      
      .mission-image {
        flex: 0 0 auto;
        max-width: 100%;
        width: 100%;
        height: 250px;
      }
      
      .mission-item-title {
        font-size: 28px;
        text-align: center;
      }
      
      .mission-item-title::after {
        left: 50%;
        transform: translateX(-50%);
      }
      
      .mission-item-text {
        font-size: 16px;
        text-align: center;
      }
      
      .mission-item:nth-child(even) .mission-item-title::after {
        left: 50%;
        transform: translateX(-50%);
      }
      
      /* Ajustes para standards section en móviles */
      .standards-container {
        flex-direction: column;
        gap: 50px;
      }
      
      .standards-content {
        order: 2;
      }
      
      .standards-image-container {
        order: 1;
        width: 100%;
        height: 400px;
      }
      
      .standards-overlay-image {
        right: 50%;
        transform: translate(50%, -50%);
        width: 80%;
      }
      
      .standards-title {
        text-align: center;
      }
      
      .standards-title::after {
        left: 50%;
        transform: translateX(-50%);
      }
      
      .scroll-to-top {
        bottom: 20px;
        right: 20px;
        width: 45px;
        height: 45px;
      }
      
      /* CARRITO - PANTALLA COMPLETA EN MÓVILES */
      .cart-sidebar {
        width: 100%;
        border-radius: 0;
      }
      
      .cart-header {
        border-radius: 0;
      }
      
      .cart-content {
        border-radius: 0;
      }
      
      .cart-items-container {
        border-radius: 0;
      }
      
      .cart-empty {
        border-radius: 0;
      }
      
      .cart-summary {
        border-radius: 0;
      }
      
      .cart-empty-image {
        width: 250px;
        height: 200px;
        background-size: contain;
        background-position: center;
      }
      
      /* MODAL DE AUTENTICACIÓN - PANTALLA COMPLETA EN MÓVILES */
      .auth-sidebar {
        width: 100%;
        border-radius: 0;
      }
      
      .auth-header {
        border-radius: 0;
      }
      
      .notification {
        width: 85%;
        max-width: none;
      }
      
      .user-dropdown {
        position: fixed;
        top: auto;
        bottom: 0;
        left: 0;
        width: 100%;
        border-radius: 20px 20px 0 0;
        transform: translateY(100%);
        transition: transform 0.3s ease;
        box-shadow: 0 -4px 12px rgba(0,0,0,0.1);
      }
      
      .user-dropdown.show {
        transform: translateY(0);
      }
      
      .stock-notification {
        padding: 20px;
      }
      
      .stock-notification h3 {
        font-size: 20px;
      }
      
      .stock-notification p {
        font-size: 14px;
      }
    }

    @media (max-width: 480px) {
      .standard-icon {
      color: #295732;
      font-size: 24px;
      margin-top: 5px;
      flex-shrink: 0;
    }
      .cart-empty-image {
    width: 300px;
    height: 250px;
  }
      .cart-item-actions {
      display: flex;
      gap: 40px; /* Aumentado de 10px a 15px para separar más los iconos */
    }
      .story-section,
      .mission-section,
      .standards-section {
        padding: 60px 10px;
      }
      
      .story-title,
      .mission-title,
      .standards-title {
        font-size: 30px;
      }
      
      .story-image img {
        height: 600px;
      }
      
      .story-text h3,
      .mission-item-title {
        font-size: 24px;
      }
      
      .story-text p,
      .mission-item-text,
      .standard-text {
        font-size: 15px;
      }
      
      .story-btn {
        padding: 12px 25px;
        font-size: 16px;
        min-width: 150px;
      }
      
      .mission-image {
        height: 500px;
      }
      
      .header-logo {
        font-size: 32px;
      }
      
      .header-top {
        padding: 0 10px;
      }
      
      .mobile-nav {
        width: 250px;
      }
      
      .mobile-nav-title {
        font-size: 32px;
      }
      
      /* Ajustes para standards section en móviles pequeños */
      .standards-image-container {
        height: 300px;
      }
      
      .standards-overlay-image {
        width: 90%;
      }
      
      /* MODIFICACIÓN: Ajuste adicional para móviles pequeños */
      .mobile-nav-item a {
        padding: 14px 5px; /* Mantener el padding a la izquierda en móviles */
        font-size: 20px;
      }
      
      .mobile-dropdown-menu a {
        padding: 10px 5px; /* Ajuste para móviles pequeños */
      }
      
      .cart-empty-image {
        width: 300px;
        height: 250px;
      }
    }

    @media (min-width: 769px) {
      .standard-icon {
      color: #295732;
      font-size: 24px;
      margin-top: 5px;
      flex-shrink: 0;
    }
      .mobile-menu-btn {
        display: none;
      }
      
      .mobile-nav {
        display: none;
      }
      
      .header-nav {
        display: flex;
      }
      
      .header-icons {
        display: flex;
      }
    }
  </style>
</head>
<body>
  <!-- Notificaciones -->
  <div class="notification" id="notification">
    <div class="notification-content">
      <span class="notification-icon">✓</span>
      <span class="notification-text">El producto se agregó de manera exitosa</span>
    </div>
  </div>

  <div class="stock-notification" id="stockNotification">
    <i class="fas fa-exclamation-circle"></i>
    <h3>Stock insuficiente</h3>
    <p>No contamos con suficiente stock para esta cantidad</p>
  </div>

  <!-- Header -->
  <header class="header">
    <div class="header-top">
      <button class="mobile-menu-btn" id="mobileMenuBtn">
        <span class="material-icons">menu</span>
      </button>

      <nav class="header-nav nav-left">
        <div class="nav-item">
          <a href="index.html">Inicio</a>
        </div>
        <div class="nav-item">
          <a href="productos.html">Productos</a>
        </div>
        <div class="nav-item">
          
        </div>
      </nav>

      <div class="header-center">
        <h1 class="header-logo">
          Nutricroc
        </h1>
      </div>

      <nav class="header-nav nav-right">
        <div class="nav-item">
          <a href="preguntasfrecuentes.html">Preguntas Frecuentes</a>
        </div>
         <div class="nav-item">
          <a href="#">Sobre Nosotros</a>
        </div>
      </nav>
      
      <div class="header-icons">
        <button class="icon-btn" id="userBtn">
          <span class="material-icons">person</span>
        </button>
        <div class="user-dropdown" id="userDropdown">
          <a href="#" id="loginLink">Iniciar Sesión</a>
          <a href="#" id="registerLink">Registrarse</a>
          <a href="#" id="accountLink" style="display: none;">Mi Cuenta</a>
        </div>
        <button class="icon-btn" id="cartBtn">
          <span class="material-icons">shopping_bag</span>
          <span class="cart-count" id="cartCount">0</span>
        </button>
      </div>
    </div>
  </header>

  <!-- Modal de autenticación -->
  <div class="auth-overlay" id="authOverlay"></div>
  <div class="auth-sidebar" id="authSidebar">
    <div class="auth-header">
      <h2 class="auth-title" id="authTitle">Iniciar Sesión</h2>
      <button class="close-auth" id="closeAuth">
        <span class="material-icons">close</span>
      </button>
    </div>
    <div class="auth-content">
      <div class="auth-image">
        <img src="img/loginnutricroc.png" alt="Imagen de autenticación" id="authImage">
      </div>
      <form class="auth-form" id="authForm">
        <div class="form-group" id="nameField" style="display: none;">
          <label for="name">Nombre completo</label>
          <input type="text" id="name" name="name" required>
        </div>
        <div class="form-group">
          <label for="email">Correo electrónico</label>
          <input type="email" id="email" name="email" required>
        </div>
        <div class="form-group">
          <label for="password">Contraseña</label>
          <input type="password" id="password" name="password" required>
        </div>
        <div class="form-group" id="confirmPasswordField" style="display: none;">
          <label for="confirmPassword">Confirmar contraseña</label>
          <input type="password" id="confirmPassword" name="confirmPassword" required>
        </div>
        <button type="submit" class="auth-btn" id="authSubmitBtn">Iniciar Sesión</button>
      </form>
      <div class="auth-switch">
        <span id="authSwitchText">¿No tienes una cuenta? </span>
        <a href="#" id="authSwitchLink">Regístrate</a>
      </div>
    </div>
  </div>

  <!-- Carrito de compras -->
  <div class="cart-overlay" id="cartOverlay"></div>
  <div class="cart-sidebar" id="cartSidebar">
    <div class="cart-header">
      <h2 class="cart-title">Tu Carrito <span class="cart-count-title" id="cartCountTitle">(0)</span></h2>
      <button class="close-cart" id="closeCart">
        <span class="material-icons">close</span>
      </button>
    </div>
    <div class="cart-content">
      <div class="cart-items-container" id="cartItemsContainer">
        <div class="cart-empty">
          <div class="cart-empty-image"></div>
          <p class="cart-empty-text">Aún no cuentas con productos</p>
          <button class="discover-btn" onclick="window.location.href='tienda.html'">Descubrir</button>
        </div>
      </div>
      
      <!-- Pantalla de edición -->
      <div class="edit-screen" id="editScreen">
        <div class="edit-header">
          <button class="edit-back" id="editBack">
            <span class="material-icons">arrow_back</span>
          </button>
        </div>
        
        <div class="edit-product-images" id="editProductImages">
        </div>
        
        <div class="edit-product-info">
          <div class="edit-product-name" id="editProductName"></div>
          <div class="edit-product-price" id="editProductPrice"></div>
        </div>
        
        <div class="edit-quantity-section">
          <label class="edit-quantity-label">Cantidad</label>
          <div class="edit-quantity-controls">
            <button class="edit-quantity-btn" id="decreaseQuantity">-</button>
            <input type="number" class="edit-quantity-input" id="editQuantityInput" min="1" value="1">
            <button class="edit-quantity-btn" id="increaseQuantity">+</button>
          </div>
        </div>
        
        <div class="edit-actions">
          <button class="save-btn" id="saveEditBtn">
            <span class="save-text">GUARDAR</span>
          </button>
        </div>
      </div>
      
      <!-- Resumen del carrito -->
      <div class="cart-summary" id="cartSummary">
        <div class="cart-summary-title">Resumen</div>
        <div class="cart-summary-details">
          <div class="summary-row">
            <span class="summary-label">Productos</span>
            <span class="summary-value" id="summaryProductCount">0</span>
          </div>
          <div class="summary-row">
            <span class="summary-label">Subtotal</span>
            <span class="summary-value" id="summarySubtotal">$0.00</span>
          </div>
          <div class="summary-row">
            <span class="summary-label">Envío</span>
            <span class="summary-value" id="summaryEnvio">Gratis</span>
          </div>
          <div class="cart-total">
            <span class="summary-label">Total final</span>
            <span class="cart-total-amount" id="summaryTotalAmount">$0.00</span>
          </div>
        </div>
        <button class="checkout-btn" id="checkoutBtn">Comprar</button>
      </div>
    </div>
  </div>

  <!-- Menú móvil -->
  <div class="mobile-nav-overlay" id="mobileNavOverlay"></div>
  <nav class="mobile-nav" id="mobileNav">
    <div class="mobile-nav-header">
      <h2 class="mobile-nav-title">Nutricroc</h2>
      <button class="close-mobile-nav" id="closeMobileNav">
        <span class="material-icons">close</span>
      </button>
    </div>
    
    <div class="mobile-nav-item">
      <a href="index.html">Inicio</a>
    </div>
    
    <div class="mobile-nav-item">
       <a href="productos.html">Productos</a>
    </div>
    
    <div class="mobile-nav-item">
      <a href="mantenimiento.html">Sobre Nosotros</a>
    </div>
    
    <div class="mobile-nav-item">
      <a href="preguntasfrecuentes.html">Preguntas Frecuentes</a>
    </div>
    
  </nav>

  <!-- SECCIÓN "OUR STORY" -->
  <section class="story-section">
    <div class="story-container">
      <div class="story-content">
        <h2 class="story-title">Nuestra historia</h2>
        
        <div class="story-layout">
          <!-- Imagen izquierda -->
          <div class="story-image">
            <img src="img/Cocodrilochef.png" alt="Nuestra historia - Imagen 1">
          </div>
          
          <!-- Texto en el medio -->
          <div class="story-text">
            <h3>Nuestra Historia</h3>
            <p>Nutricroc nace de la iniciativa y el compromiso de un grupo de estudiantes universitarios que buscaban una alternativa práctica y saludable dentro de su institución. Detectamos una necesidad clara: disfrutar de postres y snacks nutritivos sin tener que salir del salón ni interrumpir las clases.</p>
            <p>Impulsados por nuestra pasión por la nutrición saludable, creamos un espacio donde el bienestar y el buen sabor van de la mano. En Nutricroc creemos que comer bien no debe ser complicado ni aburrido, sino una experiencia deliciosa, accesible y pensada para el ritmo de la vida universitaria.</p>
            <p>Nuestro objetivo es ofrecer opciones nutritivas, elaboradas con ingredientes de calidad, que aporten energía y satisfacción en cualquier momento del día, directamente hasta donde te encuentres.</p>
          </div>
          
          <!-- Imagen derecha -->
          <div class="story-image">
            <img src="img/estudiante.png" alt="Nuestra historia - Imagen 2">
          </div>
        </div>
      
      </div>
    </div>
  </section>

  <!-- NUEVA SECCIÓN "OUR STANDARDS" -->
  <section class="standards-section">
    <div class="standards-container">
      <div class="standards-content">
        <h2 class="standards-title">Nuestros estándares</h2>
        
        <div class="standards-text">
          <div class="standard-item">
            <div class="standard-icon">🥗</div>
            <p class="standard-text">Seleccionamos cuidadosamente cada ingrediente para garantizar productos frescos, nutritivos y de alta calidad, priorizando opciones naturales y saludables.</p>
          </div>
          
          <div class="standard-item">
            <div class="standard-icon">🥗</div>
            <p class="standard-text">Nuestros postres y snacks están pensados para aportar energía y bienestar, manteniendo un equilibrio entre sabor, valor nutricional y porciones adecuadas.</p>
          </div>
          
          <div class="standard-item">
            <div class="standard-icon">🥗</div>
            <p class="standard-text">Creemos que comer saludable también puede ser delicioso. Diseñamos recetas que combinan buen sabor con alternativas nutritivas.</p>
          </div>
          
          <div class="standard-item">
            <div class="standard-icon">🥗</div>
            <p class="standard-text">Evaluamos y mejoramos constantemente nuestros procesos, recetas y presentaciones para ofrecer productos que evolucionen junto a las necesidades de la comunidad universitaria, manteniendo siempre nuestra calidad y compromiso.</p>
          </div>
          
          <div class="standard-item">
            <div class="standard-icon">🥗</div>
            <p class="standard-text">Seguimos prácticas responsables de higiene y manipulación de alimentos para asegurar productos seguros y confiables para nuestros clientes.</p>
          </div>
        </div>
      </div>
      
      <div class="standards-image-container">
        <div class="standards-background-image"></div>
        <div class="standards-overlay-image">
          <img src="img/estandares.png" alt="Nuestros estándares">
        </div>
      </div>
    </div>
  </section>

  <!-- NUEVA SECCIÓN "OUR MISSION" MODIFICADA -->
  <section class="mission-section">
    <div class="mission-container">
      <div class="mission-content">
        <h2 class="mission-title">Nuestra Misión</h2>
        
        <div class="mission-staggered">
          <!-- Primer item: Imagen izquierda, texto derecha -->
          <div class="mission-item">
            <div class="mission-image">
              <img src="img/calidad.png" alt="Misión 1">
            </div>
            <div class="mission-text-content">
              <h3 class="mission-item-title">Calidad Inigualable</h3>
              <p class="mission-item-text">En Nutricroc creemos que comer bien también puede ser delicioso. Cada uno de nuestros postres y snacks nutritivos es elaborado bajo altos estándares de calidad, cuidando cada detalle desde la selección de ingredientes hasta su preparación final.
Trabajamos con insumos frescos y cuidadosamente seleccionados, priorizando el valor nutricional sin sacrificar el sabor. Nuestro compromiso es ofrecer opciones equilibradas, seguras y confiables, pensadas para acompañar el ritmo de vida universitario.
Dentro de la institución universitaria, garantizamos procesos responsables, higiene constante y una mejora continua, porque sabemos que la calidad no es un extra, es una promesa. Nutricroc es sinónimo de confianza, bienestar y sabor en cada bocado.</p>
            </div>
          </div>
          
          <!-- Segundo item: Imagen derecha, texto izquierda -->
          <div class="mission-item reverse">
            <div class="mission-image">
              <img src="img/innivacion.png" alt="Misión 2">
            </div>
            <div class="mission-text-content">
              <h3 class="mission-item-title">Innovación Continua</h3>
              <p class="mission-item-text">En Nutricroc la innovación es parte de nuestro día a día. Constantemente buscamos nuevas formas de crear postres y snacks nutritivos que se adapten a las necesidades, gustos y estilos de vida de la comunidad universitaria.
Exploramos nuevas recetas, combinaciones de ingredientes y procesos más eficientes, siempre enfocados en mejorar la calidad, el valor nutricional y la experiencia de nuestros clientes. Aprendemos, probamos y evolucionamos, porque creemos que cada mejora, por pequeña que sea, marca la diferencia.
Nuestra innovación no solo está en lo que ofrecemos, sino en cómo lo hacemos: con creatividad, responsabilidad y una visión de crecimiento constante. Nutricroc avanza contigo, innovando para cuidar tu bienestar.</p>
            </div>
          </div>
          
          <!-- Tercer item: Imagen izquierda, texto derecha -->
          <div class="mission-item">
            <div class="mission-image">
              <img src="img/ambiental.png" alt="Misión 3">
            </div>
            <div class="mission-text-content">
              <h3 class="mission-item-title">Compromiso Ambiental</h3>
              <p class="mission-item-text">En Nutricroc entendemos que cuidar de las personas también implica cuidar del planeta. Por eso, nuestro compromiso ambiental está presente en cada decisión que tomamos, desde la selección de ingredientes hasta la forma en que presentamos nuestros productos.
Buscamos reducir nuestro impacto ambiental mediante prácticas responsables, el uso consciente de recursos y la promoción de hábitos de consumo más sostenibles dentro de la comunidad universitaria. Creemos que pequeños cambios generan grandes resultados cuando se hacen con constancia y responsabilidad.
Nuestro objetivo es ofrecer postres y snacks nutritivos que no solo aporten bienestar, sino que también respeten el entorno. En Nutricroc, crecer de manera responsable es parte de nuestra esencia.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <button class="scroll-to-top" id="scrollToTop">
    <i class="fas fa-chevron-up"></i>
  </button>

  <script>
    // Variables globales para el carrito (compartidas con código 1)
    let cartItems = [];
    let isLoggedIn = false;
    const cartBtn = document.getElementById('cartBtn');
    const cartOverlay = document.getElementById('cartOverlay');
    const cartSidebar = document.getElementById('cartSidebar');
    const closeCart = document.getElementById('closeCart');
    const cartCount = document.getElementById('cartCount');
    const cartCountTitle = document.getElementById('cartCountTitle');
    const cartItemsContainer = document.getElementById('cartItemsContainer');
    const cartSummary = document.getElementById('cartSummary');
    const summaryProductCount = document.getElementById('summaryProductCount');
    const summarySubtotal = document.getElementById('summarySubtotal');
    const summaryEnvio = document.getElementById('summaryEnvio');
    const summaryTotalAmount = document.getElementById('summaryTotalAmount');
    const notification = document.getElementById('notification');

    // Elemento para notificación de stock insuficiente
    const stockNotification = document.getElementById('stockNotification');

    const editScreen = document.getElementById('editScreen');
    const editBack = document.getElementById('editBack');
    const editProductImages = document.getElementById('editProductImages');
    const editProductName = document.getElementById('editProductName');
    const editProductPrice = document.getElementById('editProductPrice');
    const editQuantityInput = document.getElementById('editQuantityInput');
    const decreaseQuantityBtn = document.getElementById('decreaseQuantity');
    const increaseQuantityBtn = document.getElementById('increaseQuantity');
    const saveEditBtn = document.getElementById('saveEditBtn');

    // Elementos del checkout 
    const checkoutBtn = document.getElementById('checkoutBtn');

    // Elementos de autenticación
    const userBtn = document.getElementById('userBtn');
    const userDropdown = document.getElementById('userDropdown');
    const loginLink = document.getElementById('loginLink');
    const registerLink = document.getElementById('registerLink');
    const accountLink = document.getElementById('accountLink');

    const authOverlay = document.getElementById('authOverlay');
    const authSidebar = document.getElementById('authSidebar');
    const closeAuth = document.getElementById('closeAuth');
    const authTitle = document.getElementById('authTitle');
    const authImage = document.getElementById('authImage');
    const authForm = document.getElementById('authForm');
    const nameField = document.getElementById('nameField');
    const confirmPasswordField = document.getElementById('confirmPasswordField');
    const authSubmitBtn = document.getElementById('authSubmitBtn');
    const authSwitchText = document.getElementById('authSwitchText');
    const authSwitchLink = document.getElementById('authSwitchLink');

    // Elementos del menú móvil
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const mobileNav = document.getElementById('mobileNav');
    const mobileNavOverlay = document.getElementById('mobileNavOverlay');
    const closeMobileNav = document.getElementById('closeMobileNav');
    
    let isLoginMode = true;
    let editingProductIndex = -1;
    let currentDeleteIndex = -1;

    // Clave única para almacenar el carrito en localStorage (MISMA CLAVE QUE CÓDIGO 1)
    const CART_STORAGE_KEY = 'nutricroc_shared_cart';
    const AUTH_STORAGE_KEY = 'nutricroc_auth_status';

    // ===== FUNCIONES DE NOTIFICACIONES =====
    function showNotification(message = 'El producto se agregó de manera exitosa') {
      notification.querySelector('.notification-text').textContent = message;
      notification.classList.add('show');
      setTimeout(() => {
        notification.classList.remove('show');
      }, 3000);
    }

    function showStockNotification() {
      stockNotification.classList.add('show');
      setTimeout(() => {
        stockNotification.classList.remove('show');
      }, 3000);
    }

    // ===== FUNCIONES DEL MENÚ MÓVIL =====
    function toggleMobileNav() {
      mobileNav.classList.toggle('open');
      mobileNavOverlay.classList.toggle('active');
      document.body.style.overflow = mobileNav.classList.contains('open') ? 'hidden' : 'auto';
    }

    function closeMobileNavFunc() {
      mobileNav.classList.remove('open');
      mobileNavOverlay.classList.remove('active');
      document.body.style.overflow = 'auto';
    }

    // ===== FUNCIONES DEL CARRITO (COMPARTIDAS CON CÓDIGO 1) =====
    function loadCartFromStorage() {
      const savedCart = localStorage.getItem(CART_STORAGE_KEY);
      if (savedCart) {
        try {
          cartItems = JSON.parse(savedCart);
          console.log('Carrito cargado:', cartItems);
        } catch (e) {
          console.error('Error al cargar el carrito:', e);
          cartItems = [];
        }
      }
    }

    function loadAuthStatus() {
      const savedAuth = localStorage.getItem(AUTH_STORAGE_KEY);
      if (savedAuth) {
        isLoggedIn = JSON.parse(savedAuth);
      }
    }

    function saveCartToStorage() {
      localStorage.setItem(CART_STORAGE_KEY, JSON.stringify(cartItems));
      console.log('Carrito guardado:', cartItems);
    }

    function saveAuthStatus() {
      localStorage.setItem(AUTH_STORAGE_KEY, JSON.stringify(isLoggedIn));
    }

    function updateCartCount() {
      let totalQuantity = 0;
      cartItems.forEach(item => {
        totalQuantity += item.quantity;
      });
      
      cartCount.textContent = totalQuantity;
      cartCountTitle.textContent = `(${totalQuantity})`;
      
      console.log('Contador actualizado:', totalQuantity);
    }

    function calculateCartTotals() {
      let subtotal = 0;
      cartItems.forEach(item => {
        subtotal += parseFloat(item.price) * item.quantity;
      });
      
      const envio = 0;
      const total = subtotal + envio;
      
      return {
        subtotal: subtotal.toFixed(2),
        envio: envio.toFixed(2),
        total: total.toFixed(2)
      };
    }

    function updateCartTotal() {
      const totals = calculateCartTotals();
      
      summaryProductCount.textContent = cartItems.length;
      summarySubtotal.textContent = `$${totals.subtotal}`;
      summaryEnvio.textContent = 'Gratis';
      summaryTotalAmount.textContent = `$${totals.total}`;
    }

    function toggleCartSummary() {
      if (cartItems.length > 0) {
        cartSummary.classList.add('visible');
      } else {
        cartSummary.classList.remove('visible');
      }
    }

    function renderCartItems() {
      console.log('Renderizando carrito con', cartItems.length, 'productos');
      
      if (cartItems.length === 0) {
        cartItemsContainer.innerHTML = `
          <div class="cart-empty">
            <div class="cart-empty-image"></div>
            <p class="cart-empty-text">Aún no cuentas con productos</p>
            <button class="discover-btn" onclick="window.location.href='tienda.html'">Descubrir</button>
          </div>
        `;
      } else {
        let itemsHTML = '';
        cartItems.forEach((item, index) => {
          const subtotal = (parseFloat(item.price) * item.quantity).toFixed(2);
          itemsHTML += `
            <div class="cart-item" id="cart-item-${index}">
              <div class="cart-item-image">
                <img src="${item.image}" alt="${item.name}">
              </div>
              <div class="cart-item-details">
                <div class="cart-item-info">
                  <div class="cart-item-price">$${subtotal}</div>
                  <div class="cart-item-actions">
                    <button class="cart-item-action edit-item" data-index="${index}">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="cart-item-action remove-item" data-index="${index}">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
                <div class="cart-item-name">${item.name}</div>
                <div class="cart-item-quantity">
                  <span class="quantity-display">${item.quantity} × $${parseFloat(item.price).toFixed(2)}</span>
                </div>
              </div>
            </div>
          `;
        });
        cartItemsContainer.innerHTML = itemsHTML;
        
        document.querySelectorAll('.edit-item').forEach(button => {
          button.addEventListener('click', function(e) {
            e.stopPropagation();
            const index = this.getAttribute('data-index');
            showEditScreen(index);
          });
        });
        
        document.querySelectorAll('.remove-item').forEach(button => {
          button.addEventListener('click', function(e) {
            e.stopPropagation();
            const index = this.getAttribute('data-index');
            showDeleteSpinner(index);
          });
        });
      }
    }

    function updateCartUI() {
      updateCartCount();
      updateCartTotal();
      renderCartItems();
      toggleCartSummary();
    }

    function showEditScreen(index) {
      editingProductIndex = index;
      const product = cartItems[index];
      
      editProductName.textContent = product.name;
      editProductPrice.textContent = `$${parseFloat(product.price).toFixed(2)}`;
      editQuantityInput.value = product.quantity;
      
      editProductImages.innerHTML = '';
      for (let i = 0; i < 2; i++) {
        const imageDiv = document.createElement('div');
        imageDiv.className = 'edit-product-image';
        const img = document.createElement('img');
        img.src = product.image;
        img.alt = product.name;
        imageDiv.appendChild(img);
        editProductImages.appendChild(imageDiv);
      }
      
      editScreen.style.display = 'flex';
      setTimeout(() => {
        editScreen.classList.add('active');
      }, 10);
    }

    function hideEditScreen() {
      editScreen.classList.add('slide-out');
      setTimeout(() => {
        editScreen.classList.remove('active');
        editScreen.classList.remove('slide-out');
        editScreen.style.display = 'none';
        editingProductIndex = -1;
      }, 500);
    }

    function showDeleteSpinner(index) {
      currentDeleteIndex = index;
      const cartItem = document.getElementById(`cart-item-${index}`);
      if (!cartItem) return;
      
      // Crear el spinner solo para este item
      const spinnerHTML = `
        <div class="delete-spinner" id="delete-spinner-${index}">
          <div class="spinner"></div>
          <p>Eliminando producto...</p>
        </div>
      `;
      
      // Insertar el spinner solo en este item específico
      cartItem.style.position = 'relative';
      cartItem.insertAdjacentHTML('beforeend', spinnerHTML);
      
      setTimeout(() => {
        const spinner = document.getElementById(`delete-spinner-${index}`);
        if (spinner) spinner.remove();
        showDeleteConfirmation(index);
      }, 3000);
    }

    function showDeleteConfirmation(index) {
      const cartItem = document.getElementById(`cart-item-${index}`);
      if (!cartItem) return;
      
      // Crear la confirmación solo para este item
      const confirmationHTML = `
        <div class="delete-confirmation" id="delete-confirmation-${index}">
          <div class="confirmation-image">
            <i class="fas fa-check"></i>
          </div>
          <p class="confirmation-text">Producto eliminado de manera exitosa</p>
        </div>
      `;
      
      // Insertar la confirmación solo en este item específico
      cartItem.insertAdjacentHTML('beforeend', confirmationHTML);
      
      setTimeout(() => {
        const confirmation = document.getElementById(`delete-confirmation-${index}`);
        if (confirmation) confirmation.remove();
        cartItem.style.position = '';
        removeFromCart(index);
      }, 2000);
    }

    function addToCart(product) {
      console.log('Agregando producto al carrito:', product);
      
      // Extraer precio numérico
      let price = product.price;
      if (typeof price === 'string') {
        price = parseFloat(price.replace('$', ''));
      }
      
      // Buscar si el producto ya está en el carrito
      const existingItemIndex = cartItems.findIndex(item => 
        item.name === product.name && parseFloat(item.price) === parseFloat(price)
      );
      
      if (existingItemIndex !== -1) {
        // Si ya existe, aumentar la cantidad
        cartItems[existingItemIndex].quantity += 1;
        console.log('Producto existente, cantidad aumentada a:', cartItems[existingItemIndex].quantity);
      } else {
        // Si no existe, agregarlo como nuevo
        const productToAdd = {
          id: product.id || Date.now(),
          name: product.name,
          price: price,
          image: product.image,
          description: product.description || '',
          quantity: 1
        };
        cartItems.push(productToAdd);
        console.log('Nuevo producto agregado:', productToAdd);
      }
      
      updateCartUI();
      saveCartToStorage();
      showNotification('Producto agregado al carrito');
    }

    function removeFromCart(index) {
      if (index >= 0 && index < cartItems.length) {
        cartItems.splice(index, 1);
        updateCartUI();
        saveCartToStorage();
      }
    }

    function updateProductQuantity(index, newQuantity) {
      if (newQuantity < 1) newQuantity = 1;
      
      if (newQuantity > 30) {
        showStockNotification();
        editQuantityInput.value = cartItems[index].quantity;
        return false;
      }
      
      if (index >= 0 && index < cartItems.length) {
        cartItems[index].quantity = newQuantity;
        updateCartUI();
        saveCartToStorage();
        return true;
      }
      return false;
    }

    function clearCart() {
      cartItems = [];
      updateCartUI();
      saveCartToStorage();
    }

    // ===== FUNCIONALIDAD DEL CARRITO =====
    cartBtn.addEventListener('click', () => {
      cartOverlay.style.display = 'block';
      cartSidebar.classList.add('open');
      document.body.style.overflow = 'hidden';
    });

    function closeCartFunc() {
      cartOverlay.style.display = 'none';
      cartSidebar.classList.remove('open');
      document.body.style.overflow = 'auto';
    }

    closeCart.addEventListener('click', closeCartFunc);
    cartOverlay.addEventListener('click', closeCartFunc);

    checkoutBtn.addEventListener('click', () => {
       if (cartItems.length === 0) {
        alert('Tu carrito está vacío. Agrega productos antes de comprar.');
        return;
      }
      
      // Guardar el carrito en localStorage para pasarlo al checkout
      localStorage.setItem('checkout_cart_items', JSON.stringify(cartItems));
      localStorage.setItem('checkout_referrer', 'sobrenosotros.html');
      
      // Redirigir al checkout
      window.location.href = 'checkout.html';
      
      // Cerrar el carrito
      closeCartFunc();
    });

    // ===== FUNCIONALIDAD DEL USUARIO =====
    userBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      userDropdown.classList.toggle('show');
    });

    document.addEventListener('click', () => {
      userDropdown.classList.remove('show');
    });

    loginLink.addEventListener('click', (e) => {
      e.preventDefault();
      userDropdown.classList.remove('show');
      openAuthModal(true);
    });

    registerLink.addEventListener('click', (e) => {
      e.preventDefault();
      userDropdown.classList.remove('show');
      openAuthModal(false);
    });

    accountLink.addEventListener('click', (e) => {
      e.preventDefault();
      userDropdown.classList.remove('show');
      alert('Redirigiendo a Mi Cuenta');
    });

    // ===== FUNCIONALIDAD DE AUTENTICACIÓN =====
    function openAuthModal(login) {
      isLoginMode = login;
      
      if (isLoginMode) {
        authTitle.textContent = 'Iniciar Sesión';
        authSubmitBtn.textContent = 'Iniciar Sesión';
        authSwitchText.textContent = '¿No tienes una cuenta? ';
        authSwitchLink.textContent = 'Regístrate';
        nameField.style.display = 'none';
        confirmPasswordField.style.display = 'none';
        authImage.src = 'img/loginnutricroc.png';
      } else {
        authTitle.textContent = 'Registrarse';
        authSubmitBtn.textContent = 'Registrarse';
        authSwitchText.textContent = '¿Ya tienes una cuenta? ';
        authSwitchLink.textContent = 'Inicia Sesión';
        nameField.style.display = 'flex';
        confirmPasswordField.style.display = 'flex';
        authImage.src = 'img/regristrarnutricroc.png';
      }
      
      authOverlay.style.display = 'block';
      authSidebar.classList.add('open');
      document.body.style.overflow = 'hidden';
    }

    function closeAuthFunc() {
      authOverlay.style.display = 'none';
      authSidebar.classList.remove('open');
      document.body.style.overflow = 'auto';
      authForm.reset();
    }

    closeAuth.addEventListener('click', closeAuthFunc);
    authOverlay.addEventListener('click', closeAuthFunc);

    authSwitchLink.addEventListener('click', (e) => {
      e.preventDefault();
      openAuthModal(!isLoginMode);
    });

    authForm.addEventListener('submit', (e) => {
      e.preventDefault();
      
      if (isLoginMode) {
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        
        if (email && password) {
          isLoggedIn = true;
          updateUserInterface();
          saveAuthStatus();
          closeAuthFunc();
          showNotification('¡Inicio de sesión exitoso!');
        }
      } else {
        const name = document.getElementById('name').value;
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        const confirmPassword = document.getElementById('confirmPassword').value;
        
        if (password !== confirmPassword) {
          alert('Las contraseñas no coinciden');
          return;
        }
        
        if (name && email && password) {
          isLoggedIn = true;
          updateUserInterface();
          saveAuthStatus();
          closeAuthFunc();
          showNotification('¡Registro exitoso!');
        }
      }
    });

    function updateUserInterface() {
      if (isLoggedIn) {
        loginLink.style.display = 'none';
        registerLink.style.display = 'none';
        accountLink.style.display = 'block';
      } else {
        loginLink.style.display = 'block';
        registerLink.style.display = 'block';
        accountLink.style.display = 'none';
      }
    }

    // ===== FUNCIONALIDAD DEL MENÚ MÓVIL =====
    mobileMenuBtn.addEventListener('click', toggleMobileNav);
    closeMobileNav.addEventListener('click', closeMobileNavFunc);
    mobileNavOverlay.addEventListener('click', closeMobileNavFunc);

    document.addEventListener('click', (e) => {
      if (!mobileNav.contains(e.target) && !mobileMenuBtn.contains(e.target)) {
        closeMobileNavFunc();
      }
    });

    // ===== SCROLL TO TOP =====
    const scrollToTopBtn = document.getElementById('scrollToTop');

    window.addEventListener('scroll', function() {
      if (window.scrollY > 300) {
        scrollToTopBtn.style.display = 'flex';
      } else {
        scrollToTopBtn.style.display = 'none';
      }
    });

    scrollToTopBtn.addEventListener('click', function() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });

    // ===== FUNCIONALIDAD DE EDICIÓN DEL CARRITO =====
    editBack.addEventListener('click', hideEditScreen);

    decreaseQuantityBtn.addEventListener('click', () => {
      let currentValue = parseInt(editQuantityInput.value);
      if (currentValue > 1) {
        editQuantityInput.value = currentValue - 1;
      }
    });

    increaseQuantityBtn.addEventListener('click', () => {
      let currentValue = parseInt(editQuantityInput.value);
      editQuantityInput.value = currentValue + 1;
    });

    saveEditBtn.addEventListener('click', () => {
      const newQuantity = parseInt(editQuantityInput.value);
      
      if (newQuantity > 30) {
        showStockNotification();
        return;
      }
      
      if (updateProductQuantity(editingProductIndex, newQuantity)) {
        hideEditScreen();
        showNotification('Cantidad actualizada correctamente');
      }
    });

    // ===== INICIALIZACIÓN =====
    function init() {
      console.log('Inicializando página...');
      
      loadCartFromStorage();
      loadAuthStatus();
      updateCartUI();
      updateUserInterface();
      
      console.log('Inicialización completada');
    }

    // Hacer funciones disponibles globalmente
    window.addToCart = addToCart;
    window.removeFromCart = removeFromCart;
    window.updateProductQuantity = updateProductQuantity;
    window.clearCart = clearCart;
    window.getCartItems = () => cartItems;

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }
  </script>
</body>
</html>